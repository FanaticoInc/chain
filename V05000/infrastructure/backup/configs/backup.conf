# Fanatico L1 Backup Configuration
# v0.5.0.0 - January 29, 2026

# ============================================
# Directory Configuration
# ============================================

# Base directory for all backups
BACKUP_BASE_DIR=/var/backups/fanatico

# Blockchain data directory
BLOCKCHAIN_DATA_DIR=/home/claude

# Configuration directory
CONFIG_DIR=/etc/fanatico

# ============================================
# PostgreSQL Configuration
# ============================================

# PostgreSQL connection
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=replicator

# Data directory
POSTGRES_DATA_DIR=/var/lib/postgresql/15/fanatico

# ============================================
# Retention Configuration
# ============================================

# Full backup retention (days)
BACKUP_RETENTION_DAYS=30

# WAL archive retention (hours)
WAL_RETENTION_HOURS=168

# Blockchain backup retention (days)
BLOCKCHAIN_RETENTION_DAYS=30

# ============================================
# S3 Configuration
# ============================================

# S3 bucket for remote backups
S3_BUCKET=fanatico-backups

# S3 prefixes
S3_PREFIX_FULL=postgresql/full
S3_PREFIX_WAL=postgresql/wal
S3_PREFIX_BLOCKCHAIN=blockchain

# Upload to S3 by default
UPLOAD_S3=true

# ============================================
# Encryption Configuration
# ============================================

# Encryption key file (AES-256)
ENCRYPTION_KEY_FILE=/etc/fanatico/backup.key

# Enable encryption
ENABLE_ENCRYPTION=true

# ============================================
# WAL Archiving Configuration
# ============================================

# Compression for WAL (gzip, lz4, none)
WAL_COMPRESSION=gzip

# ============================================
# RPC Configuration
# ============================================

# RPC endpoint for blockchain state queries
RPC_ENDPOINT=http://localhost:8545

# ============================================
# Notification Configuration
# ============================================

# Slack webhook for alerts (optional)
SLACK_WEBHOOK_URL=

# Email for alerts (optional)
ALERT_EMAIL=

# ============================================
# Test Restore Configuration
# ============================================

# Directory for test restores
TEST_RESTORE_DIR=/tmp/fanatico-backup-test

# PostgreSQL port for test instance
POSTGRES_TEST_PORT=5433

# ============================================
# Schedule Configuration (for reference)
# ============================================

# Full backup: Daily at 2:00 AM
# Blockchain backup: Every 6 hours
# WAL archiving: Continuous (PostgreSQL archive_command)
# Backup verification: Weekly on Sunday at 4:00 AM
# Remote sync: After each backup
